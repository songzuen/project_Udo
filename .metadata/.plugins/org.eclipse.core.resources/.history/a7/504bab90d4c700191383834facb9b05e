<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wad.udo.rv.dao.RvSessionDao">

<!-- Result Mapping 설정 -->
	<resultMap id="rvInfo" type="com.wad.udo.rv.domain.RvInfo">
		<id property="rv_idx" column="rv_idx" />
		<result property="idx" column="idx" />
		<result property="rv_date" column="rv_date" />
		<result property="rv_time" column="rv_time" />
		<result property="rv_bike" column="rv_bike" />
	</resultMap>
	
<!-- 예약 생성 -->
	<insert id="insertRv" parameterType="com.wad.udo.rv.domain.RvInfo">
		insert into reservation (rv_idx, idx, rv_date, rv_time, rv_bike) values (#{rv_idx}, #{idx}, #{rv_date}, #{rv_time}, #{rv_bike})
	</insert>

<!-- 예약 수정 -->
	<update id="updateRv" parameterType="com.wad.udo.rv.domain.RvInfo">
		update reservation set rv_date=#{rv_date}, rv_time=#{rv_time}, rv_bike=#{rv_bike} where rv_idx=#{rv_idx}
	</update>
	
<!-- 예약 삭제 -->
	<delete id="deleteRv">
		delete from reservation where rv_idx = #{rv_idx}
	</delete>

<!-- 바이크에 대한 예약 정보 보여주기 -->
	<select id="selectListByBike" resultMap="rvInfo">
		select * from reservation where rv_bike = #{rv_bike}
	</select>

<!--id를 통한 예약정보 보여주기  -->
	<select id="selectListByIdx" resultMap="rvInfo">
		select * from reservation where idx = #{idx}
	</select>

<!--전체 예약정보 보여주기  -->
	<select id="selectList" resultMap="rvInfo">
		select * from reservation
	</select>
	
</mapper>